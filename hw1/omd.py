from dataclasses import dataclass

SEPARATOR = '_' * 30


@dataclass
class StoryStep:
    story: str
    yes: int = 0
    no: int = 0
    is_end: bool = False


story = {
    0: StoryStep(
        story="–£—Ç–∫–∞-–º–∞–ª—è—Ä ü¶Ü —Ä–µ—à–∏–ª–∞ –≤—ã–ø–∏—Ç—å –∑–∞–π—Ç–∏ –≤ –±–∞—Ä. "
              "–í–∑—è—Ç—å –µ–π –∑–æ–Ω—Ç–∏–∫? ‚õ±",
        yes=1,
        no=2,
    ),
    1: StoryStep(
        story="–£—Ç–∫–∞ –≤–∑—è–ª–∞ –∑–æ–Ω—Ç–∏–∫ –∏ –≤—ã—à–ª–∞ –∏–∑ –¥–æ–º–∞. "
              "–ü–æ–µ—Ö–∞—Ç—å –µ–π –Ω–∞ —Ç—Ä–∞–º–≤–∞–µ? üöã",
        yes=3,
        no=4
    ),
    2: StoryStep(
        story="–£—Ç–∫–∞ —Ä–µ—à–∏–ª–∞ –Ω–µ –±—Ä–∞—Ç—å –∑–æ–Ω—Ç –∏ –æ—Ç–ø—Ä–∞–≤–∏–ª–∞—Å—å –≤ –±–∞—Ä, –Ω–æ –∫–∞–∫ "
              "–æ–±—ã—á–Ω–æ –±—ã–≤–∞–µ—Ç –ø–æ –∑–∞–∫–æ–Ω—É –ø–æ–¥–ª–æ—Å—Ç–∏, –Ω–∞—á–∞–ª—Å—è –æ—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π –¥–æ–∂–¥—å. "
              "–ú–ß–° –ø—Ä–∏—Å—ã–ª–∞–ª –°–ú–°, –Ω–æ —É—Ç–æ–∫ –∂–µ –Ω–µ—Ç —Ç–µ–ª–µ—Ñ–æ–Ω–∞. –ó–∞–º–µ—Ä–∑—à–∞—è, —É—Å—Ç–∞–ª–∞—è "
              "—É—Ç–∫–∞ –≤–µ—Ä–Ω—É–ª–∞—Å—å –¥–æ–º–æ–π. ",
        is_end=True
    ),
    3: StoryStep(
        story="–í —Ç—Ä–∞–≤–º–∞–µ –µ–µ –∞—Ä–µ—Å—Ç–æ–≤–∞–ª–∏, —Ç–∞–∫ –∫–∞–∫ —É —É—Ç–∫–∏ –Ω–µ –±—ã–ª–æ –¥–µ–Ω–µ–≥. "
              "–ê—Ä–≥—É–º–µ–Ω—Ç—ã –æ —Ç–æ–º, —á—Ç–æ —É –Ω–µ–µ –Ω–µ—Ç –∫–∞—Ä–º–∞–Ω–æ–≤ –∏ –ø–æ—ç—Ç–æ–º—É –Ω–µ–≥–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å "
              "–¥–µ–Ω—å–≥–∏ –Ω–µ –ø–æ–º–æ–≥–ª–∏ üëÆ",
        is_end=True
    ),
    4: StoryStep(
        story="–î–æ–π–¥—è –Ω–µ—Å–ø–µ—à–Ω—ã–º —à–∞–≥–æ–º –¥–æ –±–∞—Ä–∞, —É—Ç–∫–∞ —Å —É–¥–∏–≤–ª–µ–Ω–∏–µ–º —É–∑–Ω–∞–ª–∞, —á—Ç–æ –±–∞—Ä –ø–æ—á–µ–º—É-—Ç–æ –∑–∞–∫—Ä—ã—Ç."
              "–ú–æ–∂–µ—Ç –ª—É—á—à–µ –ø–æ–π—Ç–∏ –¥–æ–º–æ–π? üè†",
        yes=5,
        no=6
    ),
    5: StoryStep(
        story='–£—Ç–∫–∞ –∑–∞—à–ª–∞ –≤ –º–∞–≥–∞–∑–∏–Ω, –∫—É–ø–∏–ª–∞ —Å–≤–æ–µ –ª—é–±–∏–º–æ–µ –ø–∏–≤–æ "–ñ–∞—Ç–µ—Ü–∫–∞—è —É—Ç–∫–∞" üç∫'
              '–∏ –æ—Ç–ø—Ä–∞–≤–∏–ª–∞—Å—å –¥–æ–º–æ–π üè†. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –æ–Ω–∞ –∑–∞—à–ª–∞ –¥–æ–º–æ–π, –Ω–∞—á–∞–ª—Å—è —Å–∏–ª—å–Ω—ã–π '
              '–ª–∏–≤–µ–Ω—å. –í–µ—Å—å –≤–µ—á–µ—Ä –æ–Ω–∞ —Å–º–æ—Ç—Ä–µ–ª–∞ –≤ –æ–∫–Ω–æ –∏ –ª—é–±–æ–≤–∞–ª–∞—Å—å —Å—Ç–∏—Ö–∏–µ–π',
        is_end=True

    ),
    6: StoryStep(
        story='–£—Ç–∫–∞ —Ä–µ—à–∏–ª–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏–π –±–∞—Ä, –Ω–æ –∏ –æ–Ω –æ–∫–∞–∑–∞–ª—Å—è –∑–∞–∫—Ä—ã—Ç.'
              '–ú–æ–∂–µ—Ç –≤—Å–µ-—Ç–∞–∫–∏ –µ–π –ø–æ–π—Ç–∏ –¥–æ–º–æ–π? üè†',
        yes=5,
        no=7
    ),
    7: StoryStep(
        story='–î–æ–π–¥—è –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –±–∞—Ä–∞, —É—Ç–∫–∞ —É–≤–∏–¥–µ–ª–∞ —á—Ç–æ –∏ –æ–Ω –∑–∞–∫—Ä—ã—Ç. –û–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è, '
              '–≤—Å–µ –±–∞—Ä—ã –≤ –≥–æ—Ä–æ–¥–µ –±—ã–ª–∏ –∑–∞–∫—Ä—ã—Ç—ã –ø–æ—Ç–æ–º—É, —á—Ç–æ –≤–≤–µ–ª–∏ –∫–∞—Ä–∞–Ω—Ç–∏–Ω. '
              '–†–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —É—Ç–∫–∞ –æ–±—Ä–µ—á–µ–Ω–Ω–æ —Ä–µ—à–∏–ª–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è –¥–æ–º–æ–π. –ï–π –ø–æ–µ—Ö–∞—Ç—å –Ω–∞ —Ç—Ä–∞–º–≤–∞–µ?',
        yes=3,
        no=5
    )
}


def next_step(step_id: int):
    story_step = story.get(step_id)
    print(SEPARATOR)

    if not story_step:
        print("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫! ü¶Üü¶Üü¶Ü")
        exit()

    print(story_step.story)
    if story_step.is_end:
        print('–ö–æ–Ω–µ—Ü!')
        exit()

    option = ""
    options = {"–¥–∞": True, "–Ω–µ—Ç": False}
    while option not in options:
        print("–í—ã–±–µ—Ä–∏—Ç–µ: {}/{}".format(*options))
        option = input()

    if options[option]:
        next_step(story_step.yes)
    else:
        next_step(story_step.no)


if __name__ == "__main__":
    next_step(0)
